<dom-module id="recipe-list">
  <style>
    :host {
      display: block;
    }
  </style>
  <template>
    <div class="list">
      <template id="recipeRepeater" is="dom-repeat" items="{{recipeList}}">
        <paper-icon-item on-tap="_itemClick">
          <iron-icon icon="view-headline"></iron-icon>
          <paper-item-body>
            <div>{{item.name}}</div>
            <div secondary="">{{item.createdAt}}</div>
          </paper-item-body>
        </paper-icon-item>
      </template>
    </div>
  </template>
</dom-module>
<script>
  (function () {
    Polymer({
      is: 'recipe-list',
      properties: {
        recipeList: {
          type: Array,
          notify: true
        }
      },

      recipeUrl: function(id) {
        return "/recipes/" + id;
      },

      _itemClick: function(e) {
        var model = this.$.recipeRepeater.modelForElement(e.target);
        page(this.recipeUrl(model.item._id));
      }
    });
  })();
</script>
